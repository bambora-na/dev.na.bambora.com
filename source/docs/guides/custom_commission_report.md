---
title: Custom Commission Report
layout: tutorial

summary: >
    A guide for Partners to integrate directly to the Custom Commissoin Report API.

navigation:
  header: na.tocs.na_nav_header
  footer: na.tocs.na_nav_footer
  toc: false
  header_active: Guides
---

# Custom Commissoin Report

## Report Overview

The Custom Commission Report API provides partners an overview of their daily commission payout as they are being processed.

The Custom Commission Report accepts start and end date for payout caclulation date. It allows to retreive the report for the last 30,60, 90 or 180 days of commissions. The response is a json object with a list of all the payouts. If custom commission feature is disabled for a partner, the report will be empty.

## Report Columns

| Field | Description |
| ------ | ----------------- |
| `payout_id` | The id of payout. |
| `amount` | The commission amount. |
| `from_date` | From date |
| `to_date` | To date |
| `expected_payout_date` | Expected payout date. |
| `statement_id` | The id of the statement. |
| `status` | The status of custom commission payout. |

~~More detailed information about these fields can be found in our API
specification which can be found at:
<https://dev.na.bambora.com/docs/references/payment_APIs/v1-0-5/>~~

## Getting Started

The Custom Commission Report API is accessed via the URL
<https://api.na.bambora.com/v1/reports/customcommissions>

In addition, you will need use your Merchant ID and Reporting API Access Passcode from your Bambora account.
See the "Authentication" section below for more details on how to generate your access passcode to use in the request to the Custom Commission Report API.

## API Requests

### Request Headers

Requests to the custom commission endpoint should include two request headers:
a `Content-type` header with the value `application/json` and a `Authorization`
header which is outlined in the next section.

### Authentication

All requests to the Custom Commission Report require authentication in the form of an
`Authorization` header.  This header contains the value `Passcode <YOUR API
ACCESS PASSCODE>` which is an encoded version of your Merchant ID and your
Reporting API Access Passcode.  Note that your Reporting API Access Passcode can
be found in the [Portal](https://web.na.bambora.com) under
**administration** > **account settings** > **order settings**.

`<YOUR API ACCESS PASSCODE>` is created by concatenating your Merchant ID to
your Reporting API Access Passcode (separated by a colon), and then base 64
encoding the result.

As an example, if your Merchant ID is 123456789, and your Reporting API Passcode
is `fd36d245a3584434b904096525547f17`, then using JavaScript your API Access
Passcode could be generated by doing:

```javascript
merchantID = "123456789";
reportingAPIPasscode = "fd36d245a3584434b904096525547f17";

// base 64 encode the two values concatenated with a colon
yourAPIAccessPassCode = btoa(merchantID + ":" + reportingAPIPasscode);
```

In this example `yourAPIAccessPassCode` would be
`MTIzNDU2Nzg5OmZkMzZkMjQ1YTM1ODQ0MzRiOTA0MDk2NTI1NTQ3ZjE3` which is the value
used when making a call to the Statement Report API.

Alternatively, for convenience, you can also use the
[form](https://dev.na.bambora.com/docs/forms/encode_api_passcode/) which does
same calculation.

It is worth noting that while this process obfuscates/obscures your Reporting
API Passcode it is not an *encrypted* value, so this value should be treated with
equal sensitivity/security as your Reporting API Passcode itself.

### Parameters

The Custom Commission Report accepts a `date_range` parameter to allow the partner to limit the report to the last 30, 60, 90 or 180 days.

```no-highlight
Note: `date_range` value is required on all requests to the Custom Commission Report API.
```

~~Custom Commission records will be restricted to the date range specified (inclusive). More
details are in the formal specification at <https://dev.na.bambora.com/docs/references/payment_APIs/v1-0-5/>~~

### Example

An example request is illustrated below.

#### Request

```shell
curl --location --request GET 'https://api.na.bambora.com/v1/reports/customcommission?date_range=30' \
--header 'Authorization: Passcode <YOUR API ACCESS PASSCODE>' \
--header 'Content-Type: application/json'
```

Replace `<YOUR API ACCESS PASSCODE>` with your API passcode.

#### Response

```javascript
{
    "data": [
        [
            {
                "payout_id": "1",
                "amount": 57,
                "from_date": "2023-01-01 12:00 AM",
                "to_date": "2023-01-02 12:00 AM",
                "expected_payout_date": "2023-01-07"
                "statement_id": 1003844007,
                "status": "funded"
            },
            {
                "payout_id": "2",
                "amount": 107,
                "from_date": "2023-01-02 12:00 AM",
                "to_date": "2023-01-03 12:00 AM",
                "expected_payout_date": "2023-01-08"
                "statement_id": "NA",
                "status": "processing"
            }
        ]
    ]
}
```
